#!/usr/bin/env python
#_*_ coding: utf8 _*_

import requests
import argparse

#ARGUMENTOS
parser = argparse.ArgumentParser(description="detector de cabeceras")
parser.add_argument('-t', '--target',help="objetivo")
parser = parser.parse_args() #Final de add arguments

#ESTRUCTURA ¨PRINCIPAL

def main():
    if parser.target:
        try:
            #CONEXION al sitio
            url = requests.get(url=parser.target)
            cabeceras = dict(url.headers)   #headers en un diccionario
            for x in cabeceras:
                print(x + " : " + cabeceras[x])
        except:
            print("¡ERORR!")
    else:
        print("sin objetivo")

if __name__ == '__main__':
    main()